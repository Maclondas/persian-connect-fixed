import{h as C,u as E,r as i,j as e,A as T,S as B,I,Z as $,b as o,H as l,a4 as x,k as u,X as m,n as f,ad as j,c as R,l as U,e as y,M as N,f as O,a as Z,t as v}from"./index-CQ5aw0-d.js";import{D as G}from"./droplets-DPbW5LGi.js";import{H as w}from"./hammer-B7ZA3G6s.js";import{T as P}from"./truck-BIZjGFm7.js";import{C as k}from"./camera-Cv1aESR5.js";import{S as _}from"./square-plus-DaksAWxQ.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]],W=C("paint-bucket",V);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]],S=C("trees",q),d=[{id:"newest",name:"Newest",namePersian:"جدیدترین"},{id:"oldest",name:"Oldest",namePersian:"قدیمی‌ترین"},{id:"lowest-price",name:"Lowest Price",namePersian:"کمترین قیمت"},{id:"highest-price",name:"Highest Price",namePersian:"بیشترین قیمت"},{id:"urgent",name:"Urgent",namePersian:"فوری"},{id:"negotiable",name:"Negotiable",namePersian:"قابل مذاکره"}],z=[{icon:$,name:"Electrician",namePersian:"برقکار",color:"bg-yellow-500"},{icon:G,name:"Plumbing",namePersian:"لوله‌کشی",color:"bg-blue-500"},{icon:o,name:"Building",namePersian:"ساختمان‌سازی",color:"bg-gray-500"},{icon:l,name:"House Renewing",namePersian:"بازسازی خانه",color:"bg-green-500"},{icon:x,name:"Cleaning",namePersian:"نظافت",color:"bg-purple-500"},{icon:u,name:"Driving",namePersian:"رانندگی",color:"bg-red-500"},{icon:m,name:"Gas Engineering",namePersian:"گازرسانی",color:"bg-orange-500"},{icon:W,name:"Painting",namePersian:"نقاشی",color:"bg-pink-500"},{icon:w,name:"Assembly",namePersian:"مونتاژ",color:"bg-indigo-500"},{icon:w,name:"Flooring",namePersian:"کفپوش",color:"bg-teal-500"},{icon:o,name:"Shop Fitter",namePersian:"تجهیز مغازه",color:"bg-cyan-500"},{icon:o,name:"Sign Maker",namePersian:"تابلوساز",color:"bg-lime-500"},{icon:u,name:"Car Service",namePersian:"تعمیر خودرو",color:"bg-red-600"},{icon:m,name:"Boiler Service",namePersian:"تعمیر بویلر",color:"bg-orange-600"},{icon:l,name:"Bathroom & Kitchen Renovation",namePersian:"بازسازی حمام و آشپزخانه",color:"bg-blue-600"},{icon:P,name:"Moving House",namePersian:"اسباب‌کشی",color:"bg-gray-600"},{icon:P,name:"Van Rental",namePersian:"اجاره ون",color:"bg-green-600"},{icon:m,name:"Takeaway Appliance Service",namePersian:"تعمیر لوازم غذا",color:"bg-purple-600"},{icon:x,name:"Window Cleaning",namePersian:"شیشه‌شویی",color:"bg-pink-600"},{icon:l,name:"Roofing",namePersian:"سقف‌سازی",color:"bg-indigo-600"},{icon:S,name:"Fencing & Decking",namePersian:"حصارکشی و دکینگ",color:"bg-teal-600"},{icon:f,name:"Pest Control",namePersian:"مبارزه با آفات",color:"bg-red-700"},{icon:S,name:"Gardening & Landscaping",namePersian:"باغبانی و محوطه‌سازی",color:"bg-green-700"},{icon:f,name:"Security System & Alarm",namePersian:"سیستم امنیتی و دزدگیر",color:"bg-gray-700"},{icon:k,name:"Event Planning & Decoration",namePersian:"برنامه‌ریزی و تزئین مراسم",color:"bg-purple-700"},{icon:j,name:"Party Rentals",namePersian:"اجاره وسایل مهمانی",color:"bg-pink-700"},{icon:k,name:"Photography & Videography",namePersian:"عکاسی و فیلمبرداری",color:"bg-blue-700"},{icon:j,name:"DJ & Entertainment Hire",namePersian:"دی‌جی و سرگرمی",color:"bg-indigo-700"}];function se({onNavigate:t}){const{currentLanguage:n}=E(),[c,A]=i.useState("newest"),[g,h]=i.useState(!1),[p,F]=i.useState([]),[L,b]=i.useState(!0);i.useEffect(()=>{(async()=>{try{b(!0);const a=await Z.getAdsByCategory("services");F(a)}catch(a){console.error("Failed to load service ads:",a),v.error("Failed to load service ads")}finally{b(!1)}})()},[]);const D=()=>{const s=[...p];switch(c){case"newest":return s.sort((a,r)=>new Date(r.createdAt).getTime()-new Date(a.createdAt).getTime());case"oldest":return s.sort((a,r)=>new Date(a.createdAt).getTime()-new Date(r.createdAt).getTime());case"lowest-price":return s.sort((a,r)=>(a.price||0)-(r.price||0));case"highest-price":return s.sort((a,r)=>(r.price||0)-(a.price||0));case"urgent":return s.sort((a,r)=>(r.isUrgent?1:0)-(a.isUrgent?1:0));case"negotiable":return s.sort((a,r)=>(r.negotiable?1:0)-(a.negotiable?1:0));default:return s}},M=()=>{const s=d.find(a=>a.id===c);return s?n==="en"?s.name:s.namePersian:"Sort"},H=s=>{A(s),h(!1);const a=d.find(r=>r.id===s);a&&v.success(n==="en"?`Sorted by: ${a.name}`:`مرتب شده بر اساس: ${a.namePersian}`)};return e.jsxs("div",{className:"min-h-screen bg-white text-black",dir:n==="fa"?"rtl":"ltr",children:[e.jsxs("div",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[e.jsx("button",{onClick:()=>t("home"),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(T,{className:`h-6 w-6 text-gray-700 ${n==="fa"?"rotate-180":""}`})}),e.jsx("h1",{className:"text-lg font-semibold text-center flex-1 mx-4",children:n==="en"?"Services":"خدمات"}),e.jsx("div",{className:"w-10"})]}),e.jsx("div",{className:"px-4 pb-3",children:e.jsxs("div",{className:"relative",children:[e.jsx(B,{className:`absolute top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 ${n==="fa"?"right-3":"left-3"}`}),e.jsx(I,{placeholder:n==="en"?"Search services...":"جستجوی خدمات...",className:`w-full bg-gray-50 border-0 ${n==="fa"?"pr-10 text-right":"pl-10"} h-11 rounded-full`})]})})]}),e.jsxs("div",{className:"px-4 py-6 bg-gray-50",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:n==="en"?"Browse Service Categories":"مرور دسته‌بندی خدمات"}),e.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-96 overflow-y-auto",children:z.map((s,a)=>{const r=s.icon;return e.jsxs("button",{className:"flex flex-col items-center p-3 bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-all duration-200 active:scale-95",children:[e.jsx("div",{className:`p-2 rounded-full ${s.color} mb-2`,children:e.jsx(r,{className:"h-5 w-5 text-white"})}),e.jsx("span",{className:"text-xs font-medium text-center leading-tight",children:n==="en"?s.name:s.namePersian})]},a)})})]}),e.jsxs("div",{className:"bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-4 border-b border-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold",children:n==="en"?"Featured Services":"خدمات ویژه"}),e.jsxs("button",{onClick:()=>h(!g),className:"flex items-center gap-2 px-3 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[e.jsx("span",{className:"text-sm font-bold leading-normal tracking-[0.015em]",children:n==="en"?"Filter":"فیلتر"}),e.jsxs("span",{className:"text-xs text-gray-600",children:["(",M(),")"]})]})]}),g&&e.jsx("div",{className:"px-4 pb-3",children:e.jsx("div",{className:"bg-[#363636] rounded-md border border-[#4d4d4d] overflow-hidden max-w-xs mx-auto",children:d.map(s=>e.jsxs("button",{className:"w-full flex items-center justify-between px-3 py-2 text-left rtl:text-right hover:bg-[#4d4d4d] transition-colors border-b border-[#4d4d4d] last:border-b-0",onClick:()=>H(s.id),children:[e.jsx("span",{className:"text-white text-xs font-normal leading-tight",children:n==="en"?s.name:s.namePersian}),c===s.id&&e.jsx(R,{className:"h-3 w-3 text-[#0ac2af] flex-shrink-0 ml-2 rtl:ml-0 rtl:mr-2"})]},s.id))})}),e.jsx("div",{className:"px-4 py-4",children:L?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):p.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(x,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-2",children:n==="en"?"No services found":"هیچ خدماتی یافت نشد"}),e.jsx("p",{className:"text-sm text-gray-400",children:n==="en"?"Be the first to post a service!":"اولین نفری باشید که خدمات ارسال می‌کنید!"})]}):e.jsx("div",{className:"grid grid-cols-1 gap-3",children:D().map(s=>{var a;return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>t("ad-detail",{adId:s.id}),children:e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"relative w-24 h-24 flex-shrink-0",children:[e.jsx(U,{src:((a=s.images)==null?void 0:a[0])||"",alt:s.title,className:"w-full h-full object-cover"}),s.isUrgent&&e.jsx("div",{className:"absolute top-1 left-1 bg-red-500 text-white px-1 py-0.5 rounded text-xs font-semibold",children:n==="en"?"URGENT":"فوری"})]}),e.jsxs("div",{className:"flex-1 p-3",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-sm mb-1 line-clamp-1",children:s.title}),e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:s.contactInfo}),e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:s.location}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx("span",{children:s.subcategory||s.category}),s.views&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsxs("span",{children:[s.views," views"]})]})]})]}),e.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded-full transition-colors",onClick:r=>r.stopPropagation(),children:e.jsx(y,{className:"h-4 w-4 text-gray-600"})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-bold text-[#0ac2af]",children:s.price?`£${s.price}`:n==="en"?"Contact for price":"تماس برای قیمت"}),s.negotiable&&e.jsx("div",{className:"bg-green-500 text-white px-2 py-0.5 rounded text-xs font-semibold",children:n==="en"?"NEGOTIABLE":"قابل مذاکره"})]}),e.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded-full transition-colors",onClick:r=>r.stopPropagation(),children:e.jsx(N,{className:"h-4 w-4 text-gray-600"})})]})]})]})},s.id)})})})]}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-around",children:[e.jsxs("button",{onClick:()=>t("home"),className:"flex flex-col items-center gap-1 p-2",children:[e.jsx(l,{className:"h-6 w-6 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-600",children:n==="en"?"Home":"خانه"})]}),e.jsxs("button",{className:"flex flex-col items-center gap-1 p-2",children:[e.jsx(y,{className:"h-6 w-6 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-600",children:n==="en"?"Saved":"ذخیره شده"})]}),e.jsxs("button",{onClick:()=>t("post-ad"),className:"flex flex-col items-center gap-1 p-2",children:[e.jsx(_,{className:"h-6 w-6 text-[#dc2626]"}),e.jsx("span",{className:"text-xs text-[#dc2626] font-medium",children:n==="en"?"Post Ad":"آگهی"})]}),e.jsxs("button",{onClick:()=>t("messages"),className:"flex flex-col items-center gap-1 p-2",children:[e.jsx(N,{className:"h-6 w-6 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-600",children:n==="en"?"Messages":"پیام‌ها"})]}),e.jsxs("button",{onClick:()=>t("my-ads"),className:"flex flex-col items-center gap-1 p-2",children:[e.jsx(O,{className:"h-6 w-6 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-600",children:n==="en"?"Account":"حساب"})]})]})})]})}export{se as ServicesPage};
