import{u as p,r,a as x,j as e,g as u,R as y,d as v}from"./index-DhxcDa0S.js";function b({category:l,onNavigate:m,variant:d="list",maxAds:g=5}){const{t:N,currentLanguage:t}=p(),[a,i]=r.useState([]),[n,c]=r.useState(!0),[h,j]=r.useState(0);r.useEffect(()=>{o();const s=setInterval(()=>{o(),j(f=>f+1)},600*1e3);return()=>clearInterval(s)},[l,h]);const o=async()=>{try{c(!0),x.checkExpiredFeaturedAds();const s=await x.getAds({category:l||void 0,featured:!0});i(s.ads.slice(0,g))}catch(s){console.error("Failed to load featured ads:",s),i([])}finally{c(!1)}};return!n&&a.length===0?null:e.jsxs("div",{className:"bg-white",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:e.jsx(u,{className:"h-4 w-4 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-gray-900",children:t==="en"?"Featured Ads":"آگهی‌های ویژه"}),e.jsx("p",{className:"text-xs text-gray-500",children:t==="en"?`${a.length} featured listings`:`${a.length} آگهی ویژه`})]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[e.jsx(y,{className:"h-3 w-3"}),e.jsx("span",{children:t==="en"?"Auto-rotating":"چرخش خودکار"})]})]})}),e.jsxs("div",{className:"p-4",children:[n?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-500 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500 text-sm",children:t==="en"?"Loading featured ads...":"در حال بارگذاری آگهی‌های ویژه..."})]}):e.jsx("div",{className:d==="grid"?"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4":"space-y-3",children:a.map(s=>e.jsx(v,{ad:s,onNavigate:m,variant:d,showViewCount:!0},s.id))}),a.length>0&&e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(u,{className:"h-4 w-4 text-yellow-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-xs text-yellow-800",children:[e.jsx("p",{className:"font-medium mb-1",children:t==="en"?"Featured Ads Rotation":"چرخش آگهی‌های ویژه"}),e.jsx("p",{children:t==="en"?"Featured ads rotate every 10 minutes to ensure all boosted listings get maximum visibility throughout their featured period.":"آگهی‌های ویژه هر ۱۰ دقیقه چرخش می‌کنند تا همه آگهی‌های تقویت شده در طول دوره ویژه خود حداکثر نمایش را داشته باشند."})]})]})})]})]})}export{b as F};
