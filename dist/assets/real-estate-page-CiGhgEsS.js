import{h as P,u as S,r as l,a as A,t as p,j as e,A as k,S as C,I as F,b as h,H as c,a6 as u,a7 as R,i as L,c as D,d as E,e as M,M as H,f as T}from"./index-DeJ9lC2K.js";import{F as $}from"./featured-ads-section-fN7_zYXd.js";import{S as B}from"./square-plus-CNlHwyrD.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]],O=P("bed-double",I),V=[{icon:h,name:"Apartments for Rent",namePersian:"آپارتمان برای اجاره",color:"bg-blue-500"},{icon:c,name:"Houses for Rent",namePersian:"خانه برای اجاره",color:"bg-green-500"},{icon:u,name:"Villas for Rent",namePersian:"ویلا برای اجاره",color:"bg-orange-500"},{icon:R,name:"Studios for Rent",namePersian:"استودیو برای اجاره",color:"bg-purple-500"},{icon:O,name:"Rooms for Rent",namePersian:"اتاق برای اجاره",color:"bg-red-500"},{icon:h,name:"Apartments for Sale",namePersian:"آپارتمان برای فروش",color:"bg-indigo-500"},{icon:c,name:"Houses for Sale",namePersian:"خانه برای فروش",color:"bg-yellow-500"},{icon:u,name:"Villas for Sale",namePersian:"ویلا برای فروش",color:"bg-teal-500"},{icon:L,name:"Land & Plots",namePersian:"زمین و قطعه",color:"bg-gray-500"}],o=[{id:"newest",name:"Newest",namePersian:"جدیدترین"},{id:"oldest",name:"Oldest",namePersian:"قدیمی‌ترین"},{id:"lowest-price",name:"Lowest Price",namePersian:"کمترین قیمت"},{id:"highest-price",name:"Highest Price",namePersian:"بیشترین قیمت"},{id:"urgent",name:"Urgent",namePersian:"فوری"},{id:"negotiable",name:"Negotiable",namePersian:"قابل مذاکره"}];function z({onNavigate:n}){const{currentLanguage:a}=S(),[i,b]=l.useState("newest"),[d,m]=l.useState(!1),[x,f]=l.useState([]),[j,g]=l.useState(!0);l.useEffect(()=>{y()},[]);const y=async()=>{try{g(!0);const t=(await A.getAds({category:"real-estate"})).ads.filter(r=>r.status==="approved"&&new Date(r.expiresAt||r.created_at)>new Date);f(t)}catch(s){console.error("Failed to load real estate ads:",s),p.error("Failed to load property listings")}finally{g(!1)}},w=()=>{const s=[...x];switch(i){case"newest":return s.sort((t,r)=>new Date(r.createdAt).getTime()-new Date(t.createdAt).getTime());case"oldest":return s.sort((t,r)=>new Date(t.createdAt).getTime()-new Date(r.createdAt).getTime());case"lowest-price":return s.sort((t,r)=>t.price-r.price);case"highest-price":return s.sort((t,r)=>r.price-t.price);case"urgent":return s.sort((t,r)=>(r.urgent?1:0)-(t.urgent?1:0));case"negotiable":return s.sort((t,r)=>(r.priceType==="negotiable"?1:0)-(t.priceType==="negotiable"?1:0));default:return s}},N=()=>{const s=o.find(t=>t.id===i);return s?a==="en"?s.name:s.namePersian:"Sort"},v=s=>{b(s),m(!1);const t=o.find(r=>r.id===s);t&&p.success(a==="en"?`Sorted by: ${t.name}`:`مرتب شده بر اساس: ${t.namePersian}`)};return e.jsxs("div",{className:"min-h-screen bg-white text-black",dir:a==="fa"?"rtl":"ltr",children:[e.jsxs("div",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[e.jsx("button",{onClick:()=>n("home"),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(k,{className:`h-6 w-6 text-gray-700 ${a==="fa"?"rotate-180":""}`})}),e.jsx("h1",{className:"text-lg font-semibold text-center flex-1 mx-4",children:a==="en"?"Real Estate":"املاک"}),e.jsx("div",{className:"w-10"})]}),e.jsx("div",{className:"px-4 pb-3",children:e.jsxs("div",{className:"relative",children:[e.jsx(C,{className:`absolute top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 ${a==="fa"?"right-3":"left-3"}`}),e.jsx(F,{placeholder:a==="en"?"Search properties...":"جستجوی املاک...",className:`w-full bg-gray-50 border-0 ${a==="fa"?"pr-10 text-right":"pl-10"} h-11 rounded-full`})]})})]}),e.jsxs("div",{className:"px-4 py-6 bg-gray-50",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:a==="en"?"Browse Property Categories":"مرور دسته‌بندی املاک"}),e.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-96 overflow-y-auto",children:V.map((s,t)=>{const r=s.icon;return e.jsxs("button",{className:"flex flex-col items-center p-3 bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-all duration-200 active:scale-95",children:[e.jsx("div",{className:`p-2 rounded-full ${s.color} mb-2`,children:e.jsx(r,{className:"h-5 w-5 text-white"})}),e.jsx("span",{className:"text-xs font-medium text-center leading-tight",children:a==="en"?s.name:s.namePersian})]},t)})})]}),e.jsxs("div",{className:"bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-4 border-b border-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold",children:a==="en"?"Property Listings":"فهرست املاک"}),e.jsxs("button",{onClick:()=>m(!d),className:"flex items-center gap-2 px-3 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[e.jsx("span",{className:"text-sm font-bold leading-normal tracking-[0.015em]",children:a==="en"?"Filter":"فیلتر"}),e.jsxs("span",{className:"text-xs text-gray-600",children:["(",N(),")"]})]})]}),d&&e.jsx("div",{className:"px-4 pb-3",children:e.jsx("div",{className:"bg-[#363636] rounded-md border border-[#4d4d4d] overflow-hidden max-w-xs mx-auto",children:o.map(s=>e.jsxs("button",{className:"w-full flex items-center justify-between px-3 py-2 text-left rtl:text-right hover:bg-[#4d4d4d] transition-colors border-b border-[#4d4d4d] last:border-b-0",onClick:()=>v(s.id),children:[e.jsx("span",{className:"text-white text-xs font-normal leading-tight",children:a==="en"?s.name:s.namePersian}),i===s.id&&e.jsx(D,{className:"h-3 w-3 text-[#0ac2af] flex-shrink-0 ml-2 rtl:ml-0 rtl:mr-2"})]},s.id))})}),e.jsx($,{category:"real-estate",onNavigate:n,variant:"list",maxAds:5}),e.jsx("div",{className:"px-4 py-4",children:j?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500",children:a==="en"?"Loading property listings...":"در حال بارگذاری فهرست املاک..."})]}):e.jsxs("div",{className:"space-y-3",children:[w().map(s=>e.jsx(E,{ad:s,onNavigate:n,variant:"list",showViewCount:!0},s.id)),x.length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:a==="en"?"No property listings found":"فهرست املاکی یافت نشد"})]})})]}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-around",children:[e.jsxs("button",{onClick:()=>n("home"),className:"flex flex-col items-center gap-1 p-2",children:[e.jsx(c,{className:"h-6 w-6 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-600",children:a==="en"?"Home":"خانه"})]}),e.jsxs("button",{className:"flex flex-col items-center gap-1 p-2",children:[e.jsx(M,{className:"h-6 w-6 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-600",children:a==="en"?"Saved":"ذخیره شده"})]}),e.jsxs("button",{onClick:()=>n("post-ad"),className:"flex flex-col items-center gap-1 p-2",children:[e.jsx(B,{className:"h-6 w-6 text-[#dc2626]"}),e.jsx("span",{className:"text-xs text-[#dc2626] font-medium",children:a==="en"?"Post Ad":"آگهی"})]}),e.jsxs("button",{onClick:()=>n("messages"),className:"flex flex-col items-center gap-1 p-2",children:[e.jsx(H,{className:"h-6 w-6 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-600",children:a==="en"?"Messages":"پیام‌ها"})]}),e.jsxs("button",{onClick:()=>n("my-ads"),className:"flex flex-col items-center gap-1 p-2",children:[e.jsx(T,{className:"h-6 w-6 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-600",children:a==="en"?"Account":"حساب"})]})]})})]})}export{z as RealEstatePage};
