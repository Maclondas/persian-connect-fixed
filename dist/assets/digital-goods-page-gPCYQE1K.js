import{h as i,u as P,r as l,j as e,A as C,S,I as A,al as u,H as f,c as H,l as D,e as g,M as p,f as F,a as G,t as b}from"./index-BSlieKor.js";import{H as L}from"./headphones-wrXsNEYU.js";import{C as M}from"./camera-CFLtZriA.js";import{S as $}from"./square-plus-Bt1xDRUj.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M17 21v-2a1 1 0 0 1-1-1v-1a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v1a1 1 0 0 1-1 1",key:"10bnsj"}],["path",{d:"M19 15V6.5a1 1 0 0 0-7 0v11a1 1 0 0 1-7 0V9",key:"1eqmu1"}],["path",{d:"M21 21v-2h-4",key:"14zm7j"}],["path",{d:"M3 5h4V3",key:"z442eg"}],["path",{d:"M7 5a1 1 0 0 1 1 1v1a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a1 1 0 0 1 1-1V3",key:"ebdjd7"}]],I=i("cable",E);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],_=i("gamepad-2",T);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]],V=i("laptop",U);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]],q=i("tablet",O),c=[{id:"newest",name:"Newest",namePersian:"جدیدترین"},{id:"oldest",name:"Oldest",namePersian:"قدیمی‌ترین"},{id:"lowest-price",name:"Lowest Price",namePersian:"کمترین قیمت"},{id:"highest-price",name:"Highest Price",namePersian:"بیشترین قیمت"},{id:"urgent",name:"Urgent",namePersian:"فوری"},{id:"negotiable",name:"Negotiable",namePersian:"قابل مذاکره"}],z=[{icon:u,name:"Mobile Phones",namePersian:"تلفن همراه",color:"bg-blue-500"},{icon:V,name:"Laptops & Computers",namePersian:"لپ‌تاپ و کامپیوتر",color:"bg-green-500"},{icon:q,name:"Tablets",namePersian:"تبلت",color:"bg-orange-500"},{icon:_,name:"Gaming Consoles & Games",namePersian:"کنسول و بازی",color:"bg-purple-500"},{icon:L,name:"Audio & Headphones",namePersian:"صوتی و هدفون",color:"bg-red-500"},{icon:M,name:"Cameras & Photography",namePersian:"دوربین و عکاسی",color:"bg-indigo-500"},{icon:f,name:"Smart Home Devices",namePersian:"دستگاه‌های خانه هوشمند",color:"bg-cyan-500"},{icon:I,name:"Accessories & Cables",namePersian:"لوازم جانبی و کابل",color:"bg-gray-500"}];function K({onNavigate:n}){const{currentLanguage:a}=P(),[o,j]=l.useState("newest"),[d,m]=l.useState(!1),[x,y]=l.useState([]),[N,h]=l.useState(!0);l.useEffect(()=>{(async()=>{try{h(!0);const t=await G.getAdsByCategory("digital-goods");y(t)}catch(t){console.error("Failed to load digital goods ads:",t),b.error("Failed to load digital goods ads")}finally{h(!1)}})()},[]);const w=()=>{const s=[...x];switch(o){case"newest":return s.sort((t,r)=>new Date(r.createdAt).getTime()-new Date(t.createdAt).getTime());case"oldest":return s.sort((t,r)=>new Date(t.createdAt).getTime()-new Date(r.createdAt).getTime());case"lowest-price":return s.sort((t,r)=>(t.price||0)-(r.price||0));case"highest-price":return s.sort((t,r)=>(r.price||0)-(t.price||0));case"urgent":return s.sort((t,r)=>(r.isUrgent?1:0)-(t.isUrgent?1:0));case"negotiable":return s.sort((t,r)=>(r.negotiable?1:0)-(t.negotiable?1:0));default:return s}},v=()=>{const s=c.find(t=>t.id===o);return s?a==="en"?s.name:s.namePersian:"Sort"},k=s=>{j(s),m(!1);const t=c.find(r=>r.id===s);t&&b.success(a==="en"?`Sorted by: ${t.name}`:`مرتب شده بر اساس: ${t.namePersian}`)};return e.jsxs("div",{className:"min-h-screen bg-white text-black",dir:a==="fa"?"rtl":"ltr",children:[e.jsxs("div",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[e.jsx("button",{onClick:()=>n("home"),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(C,{className:`h-6 w-6 text-gray-700 ${a==="fa"?"rotate-180":""}`})}),e.jsx("h1",{className:"text-lg font-semibold text-center flex-1 mx-4",children:a==="en"?"Digital Goods (Electronics)":"کالاهای دیجیتال (الکترونیک)"}),e.jsx("div",{className:"w-10"})]}),e.jsx("div",{className:"px-4 pb-3",children:e.jsxs("div",{className:"relative",children:[e.jsx(S,{className:`absolute top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 ${a==="fa"?"right-3":"left-3"}`}),e.jsx(A,{placeholder:a==="en"?"Search electronics...":"جستجوی الکترونیک...",className:`w-full bg-gray-50 border-0 ${a==="fa"?"pr-10 text-right":"pl-10"} h-11 rounded-full`})]})})]}),e.jsxs("div",{className:"px-4 py-6 bg-gray-50",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:a==="en"?"Browse Electronics Categories":"مرور دسته‌بندی الکترونیک"}),e.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-96 overflow-y-auto",children:z.map((s,t)=>{const r=s.icon;return e.jsxs("button",{className:"flex flex-col items-center p-3 bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-all duration-200 active:scale-95",children:[e.jsx("div",{className:`p-2 rounded-full ${s.color} mb-2`,children:e.jsx(r,{className:"h-5 w-5 text-white"})}),e.jsx("span",{className:"text-xs font-medium text-center leading-tight",children:a==="en"?s.name:s.namePersian})]},t)})})]}),e.jsxs("div",{className:"bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-4 border-b border-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold",children:a==="en"?"Featured Electronics":"الکترونیک ویژه"}),e.jsxs("button",{onClick:()=>m(!d),className:"flex items-center gap-2 px-3 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[e.jsx("span",{className:"text-sm font-bold leading-normal tracking-[0.015em]",children:a==="en"?"Filter":"فیلتر"}),e.jsxs("span",{className:"text-xs text-gray-600",children:["(",v(),")"]})]})]}),d&&e.jsx("div",{className:"px-4 pb-3",children:e.jsx("div",{className:"bg-[#363636] rounded-md border border-[#4d4d4d] overflow-hidden max-w-xs mx-auto",children:c.map(s=>e.jsxs("button",{className:"w-full flex items-center justify-between px-3 py-2 text-left rtl:text-right hover:bg-[#4d4d4d] transition-colors border-b border-[#4d4d4d] last:border-b-0",onClick:()=>k(s.id),children:[e.jsx("span",{className:"text-white text-xs font-normal leading-tight",children:a==="en"?s.name:s.namePersian}),o===s.id&&e.jsx(H,{className:"h-3 w-3 text-[#0ac2af] flex-shrink-0 ml-2 rtl:ml-0 rtl:mr-2"})]},s.id))})}),e.jsx("div",{className:"px-4 py-4",children:N?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):x.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(u,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-2",children:a==="en"?"No digital goods found":"هیچ کالای دیجیتالی یافت نشد"}),e.jsx("p",{className:"text-sm text-gray-400",children:a==="en"?"Be the first to post digital goods!":"اولین نفری باشید که کالای دیجیتال ارسال می‌کنید!"})]}):e.jsx("div",{className:"grid grid-cols-1 gap-3",children:w().map(s=>{var t;return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>n("ad-detail",{adId:s.id}),children:e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"relative w-24 h-24 flex-shrink-0",children:[e.jsx(D,{src:((t=s.images)==null?void 0:t[0])||"",alt:s.title,className:"w-full h-full object-cover"}),s.isUrgent&&e.jsx("div",{className:"absolute top-1 left-1 bg-red-500 text-white px-1 py-0.5 rounded text-xs font-semibold",children:a==="en"?"URGENT":"فوری"})]}),e.jsxs("div",{className:"flex-1 p-3",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-sm mb-1 line-clamp-1",children:s.title}),e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:s.contactInfo}),e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:s.location}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx("span",{children:s.subcategory||s.category}),s.condition&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsx("span",{children:s.condition})]}),s.views&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsxs("span",{children:[s.views," views"]})]})]})]}),e.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded-full transition-colors",onClick:r=>r.stopPropagation(),children:e.jsx(g,{className:"h-4 w-4 text-gray-600"})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-bold text-[#0ac2af]",children:s.price?`£${s.price}`:a==="en"?"Contact for price":"تماس برای قیمت"}),s.negotiable&&e.jsx("div",{className:"bg-green-500 text-white px-2 py-0.5 rounded text-xs font-semibold",children:a==="en"?"NEGOTIABLE":"قابل مذاکره"})]}),e.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded-full transition-colors",onClick:r=>r.stopPropagation(),children:e.jsx(p,{className:"h-4 w-4 text-gray-600"})})]})]})]})},s.id)})})})]}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-around",children:[e.jsxs("button",{onClick:()=>n("home"),className:"flex flex-col items-center gap-1 p-2",children:[e.jsx(f,{className:"h-6 w-6 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-600",children:a==="en"?"Home":"خانه"})]}),e.jsxs("button",{className:"flex flex-col items-center gap-1 p-2",children:[e.jsx(g,{className:"h-6 w-6 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-600",children:a==="en"?"Saved":"ذخیره شده"})]}),e.jsxs("button",{onClick:()=>n("post-ad"),className:"flex flex-col items-center gap-1 p-2",children:[e.jsx($,{className:"h-6 w-6 text-[#dc2626]"}),e.jsx("span",{className:"text-xs text-[#dc2626] font-medium",children:a==="en"?"Post Ad":"آگهی"})]}),e.jsxs("button",{onClick:()=>n("messages"),className:"flex flex-col items-center gap-1 p-2",children:[e.jsx(p,{className:"h-6 w-6 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-600",children:a==="en"?"Messages":"پیام‌ها"})]}),e.jsxs("button",{onClick:()=>n("my-ads"),className:"flex flex-col items-center gap-1 p-2",children:[e.jsx(F,{className:"h-6 w-6 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-600",children:a==="en"?"Account":"حساب"})]})]})})]})}export{K as DigitalGoodsPage};
